!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){var a,d,e,f,g,h,i,j,k,l,m,n,o,p,q;window.console&&window.console.log&&(l=function(){var a;return a=[],m(arguments).forEach(function(b){return"string"==typeof b?a=a.concat(p(b)):a.push(b)}),q.apply(window,a)},q=function(){return console.log.apply(console,m(arguments))},m=function(a){return Array.prototype.slice.call(a)},e=[{regex:/\*([^\*]+)\*/,replacer:function(a,b){return"%c"+b+"%c"},styles:function(){return["font-style: italic",""]}},{regex:/\_([^\_]+)\_/,replacer:function(a,b){return"%c"+b+"%c"},styles:function(){return["font-weight: bold",""]}},{regex:/\`([^\`]+)\`/,replacer:function(a,b){return"%c"+b+"%c"},styles:function(){return["background: rgb(255, 255, 219); padding: 1px 5px; border: 1px solid rgba(0, 0, 0, 0.1)",""]}},{regex:/\[c\=(?:\"|\')?((?:(?!(?:\"|\')\]).)*)(?:\"|\')?\]((?:(?!\[c\]).)*)\[c\]/,replacer:function(a,b,c){return"%c"+c+"%c"},styles:function(a){return[a[1],""]}}],g=function(a){var b;return b=!1,e.forEach(function(c){return c.regex.test(a)?b=!0:void 0}),b},f=function(a){var b;return b=[],e.forEach(function(c){var d;return d=a.match(c.regex),d?b.push({format:c,match:d}):void 0}),b.sort(function(a,b){return a.match.index-b.match.index})},p=function(a){var b,c,d;for(d=[];g(a);)c=f(a),b=c[0],a=a.replace(b.format.regex,b.format.replacer),d=d.concat(b.format.styles(b.match));return[a].concat(d)},k=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},j=function(){return/OPR/.test(navigator.userAgent)&&/Opera/.test(navigator.vendor)},h=function(){return/Firefox/.test(navigator.userAgent)},i=function(){return/MSIE/.test(navigator.userAgent)},o=function(){var a;return a=navigator.userAgent.match(/AppleWebKit\/(\d+)\.(\d+)(\.|\+|\s)/),a?537.38<=parseInt(a[1],10)+parseInt(a[2],10)/100:!1},n=function(){var a;return a=navigator.userAgent.match(/OPR\/(\d+)\./),a?15<=parseInt(a[1],10):!1},d=function(){return window.console.firebug||window.console.exception},a=i()||h()&&!d()||j()&&!n()||k()&&!o()?q:l,a.l=q,"function"==typeof define&&define.amd?define(a):"undefined"!=typeof c?b.exports=a:window.log=a)}).call(this)},{}],2:[function(a,b){var c,d;a("es6-promise").polyfill(),c=function(){function a(a,b,c,d,e){this.lbPromised=a,this.pluralModelName=b,this.accessToken=c,this.timeout=d,this.debug=e}return a.prototype.setAccessToken=function(a){this.accessToken=a},a.prototype.request=function(a,b,c){return null==b&&(b={}),this.lbPromised.request(this.pluralModelName,a,b,c,this)},a.prototype.count=function(a){var b,c,d;return null==a&&(a={}),d="/count",b="GET",c={},Object.keys(a)&&(c.where=a),this.request(d,c,b).then(function(a){return a.count})},a.prototype.create=function(a){var b,c,d,e;return null==a&&(a={}),Array.isArray(a)?Promise.all(function(){var c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(this.create(b));return e}.call(this)):(e="",c="POST",d=a,this.request(e,d,c))},a.prototype.upsert=function(a){var b,c,d;return null==a&&(a={}),d="",b="PUT",c=a,this.request(d,c,b)},a.prototype.exists=function(a){var b,c,d;return d="/"+a+"/exists",b="GET",c=null,this.request(d,c,b)},a.prototype.findById=function(a){var b,c,d;return d="/"+a,b="GET",c=null,this.request(d,c,b)},a.prototype.find=function(a){var b,c,e,f;return(null!=a?a.where:void 0)&&(f=d(a.where),f||(a.where=null)),null!=a&&null===a.where?(this.debug&&console.log('returns empty array, as "where" is null.'),Promise.resolve([])):(e="",b="GET",c={filter:a},this.request(e,c,b))},a.prototype.findOne=function(a){var b,c,d;return d="/findOne",b="GET",c={filter:a},this.request(d,c,b)["catch"](function(a){if(a.isLoopbackResponseError&&"MODEL_NOT_FOUND"===a.code)return null;throw a})},a.prototype.destroyById=function(a){var b,c,d;return d="/"+a,b="DELETE",c=null,this.request(d,c,b)},a.prototype.destroy=function(a){return this.destroyById(a.id)},a.prototype.updateAttributes=function(a,b){var c,d,e;return e="/"+a,c="PUT",d=b,this.request(e,d,c)},a.prototype.updateAll=function(a,b){var c,d,e;return e="/update?where="+JSON.stringify(a),c="POST",d=b,this.request(e,d,c)},a}(),d=function(a){var b,c,e,f;if("object"!=typeof a||null===a)return a;if("function"==typeof(null!=a?a.toISOString:void 0))return a.toISOString();e=0,b=0;for(c in a)f=a[c],f=d(f),void 0===f&&(delete a[c],b++),e++;return e===b?void 0:a},b.exports=c},{"es6-promise":8}],3:[function(a,b){(function(c){var d,e,f,g,h,i,j;e=a("./loopback-client"),h=a("./loopback-user-client"),g=a("./loopback-related-client"),i=a("./push-manager"),a("es6-promise").polyfill(),j=a("superagent"),d=a("./util/debug-logger"),f=function(){function a(a,b,c){this.baseURL=a,this.logger=b,this.version=c}return a.createInstance=function(b){return null==b&&(b={}),new a(b.baseURL,b.logger,b.version)},a.prototype.request=function(a,b,c,d,e){var f;return null==c&&(c={}),null==e&&(e={}),f="/"+a+b,this.constructor.requestStatic(f,c,d,e,this)},a.requestStatic=function(a,b,c,e,f){var g,h,i,k,l,m,n,o;return null==b&&(b={}),null==e&&(e={}),g=e.accessToken,k=e.debug,n=e.timeout,i=f.baseURL,m=f.logger,o=f.version,k=this.isDebugMode(k),k&&(l=new d(a,b,c,e,f)),h=this.agentMethodMap[c],i?null==h?Promise.reject(new Error("no agent method for http_method:  "+c)):(k&&l.showRequestInfo(),new Promise(function(c,d){var e,f,m,p,q;if(p=null!=o?i+"/"+o+a:i+a,m=j[h](p),g&&m.set("Authorization",g),"get"===h){e={};for(f in b)q=b[f],"function"!=typeof q&&(e[f]="object"==typeof q?JSON.stringify(q):q);m.query(e)}else Object.keys(b).length&&(m.send(JSON.stringify(b)),m.set("Content-Type","application/json"));return null!=n&&m.timeout(n),m.end(function(a,b){var e,g,h;if(a)return k&&l.showErrorInfo(a),void d(a);try{h=204===b.statusCode?{}:JSON.parse(b.text)}catch(i){e=i,h={error:b.text}}if(k&&l.showResponseInfo(h,b),h.error){if("object"==typeof h.error){a=new Error,g=h.error;for(f in g)q=g[f],a[f]=q;a.isLoopbackResponseError=!0}else a=new Error(h.error);return d(a)}return c(h)})})):Promise.reject("baseURL is required.")},a.prototype.createClient=function(a,b){var c,d;return null==b&&(b={}),b.belongsTo?(d=Object.keys(b.belongsTo)[0],c=b.belongsTo[d],this.createRelatedClient({one:d,many:a,id:c,timeout:b.timeout,accessToken:b.accessToken,debug:b.debug})):b.isUserModel?this.createUserClient(a,b):new e(this,a,b.accessToken,b.timeout,b.debug)},a.prototype.createUserClient=function(a,b){return null==b&&(b={}),new h(this,a,b.accessToken,b.timeout,b.debug)},a.prototype.createRelatedClient=function(a){return new g(this,a.one,a.many,a.id,a.accessToken,a.timeout,a.debug)},a.prototype.createPushManager=function(a){return null==a&&(a={}),new i(this,a.accessToken,a.debug)},a.isDebugMode=function(a){var b;return a||!!("undefined"!=typeof c&&null!==c&&null!=(b=c.env)?b.LBP_DEBUG:void 0)},a.agentMethodMap={DELETE:"del",PUT:"put",GET:"get",POST:"post",HEAD:"head"},a}(),f.Promise=Promise,f.LoopbackClient=e,f.LoopbackUserClient=h,f.LoopbackRelatedClient=g,b.exports=f}).call(this,a("_process"))},{"./loopback-client":2,"./loopback-related-client":4,"./loopback-user-client":5,"./push-manager":6,"./util/debug-logger":7,_process:9,"es6-promise":8,superagent:10}],4:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;a("es6-promise").polyfill(),c=a("./loopback-client"),d=function(a){function b(a,b,c,d,e,f,g){this.lbPromised=a,this.pluralModelName=b,this.pluralModelNameMany=c,this.id=d,this.accessToken=e,this.timeout=f,this.debug=g}return e(b,a),b.prototype.setId=function(a){this.id=a},b.prototype.request=function(a,b,c){return null==b&&(b={}),a="/"+this.id+"/"+this.pluralModelNameMany+a,this.lbPromised.request(this.pluralModelName,a,b,c,this)},b.prototype.upsert=function(a){var b,c,d;if(null==a&&(a={}),null!=a.id){c={};for(b in a)d=a[b],"id"!==b&&(c[b]=d);return this.updateAttributes(a.id,c)}return this.create(a)},b.prototype.exists=function(a){return this.findById(a).then(function(){return{exists:!0}})["catch"](function(a){if(a.isLoopbackResponseError)return{exists:!1};throw a})},b.prototype.findOne=function(a){return this.find(a).then(function(a){return a[0]})},b.prototype.updateAll=function(a,b){return this.find({where:a,fields:"id"}).then(function(a){return function(c){var d;return Promise.all(function(){var a,e,f;for(f=[],a=0,e=c.length;e>a;a++)d=c[a],f.push(this.updateAttributes(d.id,b));return f}.call(a))}}(this))},b}(c),b.exports=d},{"./loopback-client":2,"es6-promise":8}],5:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("./loopback-client"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.confirm=function(a,b,c){var d,e,f;return f="/confirm",d="GET",e={uid:a,token:b,redirect:c},this.request(f,e,d)},b.prototype.login=function(a,b){var c,d,e;return e="/login",b&&(e+="?include="+b),c="POST",d=a,this.request(e,d,c)},b.prototype.logout=function(a){var b,c,d;return d="/logout?access_token="+a,b="POST",c=null,this.request(d,c,b)},b.prototype.resetPassword=function(a){var b,c,d;return d="/logout?access_token="+accessTokenID,b="POST",c={email:a},this.request(d,c,b)},b}(c),b.exports=d},{"./loopback-client":2}],6:[function(a,b){var c;a("es6-promise").polyfill(),c=function(){function a(a,b,c,d){this.appId=d,this.pushClient=a.createClient("push",{accessToken:b,debug:c}),this.installationClient=a.createClient("installation",{accessToken:b,debug:c}),null==this.appId&&(this.appId="loopback-with-admin")}return a.prototype.subscribe=function(a,b,c){return this.installationClient.find({where:{deviceToken:b,deviceType:c}}).then(function(a){return function(b){var c,d;return d=function(){var a,d,e;for(e=[],a=0,d=b.length;d>a;a++)c=b[a],e.push(this.installationClient.destroyById(c.id));return e}.call(a),Promise.all(d)}}(this)).then(function(d){return function(){return d.installationClient.findOne({where:{userId:a}}).then(function(e){return null==e&&(e={userId:a}),e.deviceType=c,e.deviceToken=b,e.appId=d.appId,d.installationClient.upsert(e)})}}(this))},a.prototype.unsubscribe=function(a){return this.installationClient.find({where:{userId:a}}).then(function(a){return function(b){var c,d;return d=function(){var a,d,e;for(e=[],a=0,d=b.length;d>a;a++)c=b[a],e.push(this.installationClient.destroyById(c.id));return e}.call(a),Promise.all(d)}}(this))},a.prototype.notify=function(a,b){return null==b&&(b={}),this.pushClient.request("?deviceQuery[userId]="+a,b,"POST")},a}(),b.exports=c},{"es6-promise":8}],7:[function(a,b){var c,d,e,f,g,h,i,j,k,l=[].slice,m={}.hasOwnProperty;k=function(){var a,b;for(b=[],i=a=0;20>=a;i=++a)b.push("    ");return b}(),e={red:"31",green:"32",yellow:"33",blue:"34",purple:"35",cyan:"36"},f=Object.keys(e),h="undefined"!=typeof Ti&&null!==Ti?"ti":"undefined"!=typeof window&&null!==window?"web":"node",d=function(){switch(h){case"ti":case"node":return function(a,b){var c;return b&&e[b]?(c=e[b],"["+c+"m"+a+"[39m"):a};case"web":return function(a,b){return'[c="color: '+b+'"]'+a+"[c]"}}}(),g=function(){switch(h){case"ti":return{info:function(a){return Ti.API.info(a)},warn:function(a){return Ti.API.info(a)},error:function(a){return Ti.API.info(a)},trace:function(a){return Ti.API.trace(a)}};case"web":return j=a("../../../bower_components/log/log"),{info:function(a){return j(a)},warn:function(a){return j("[WARN] "+a)},error:function(a){return j("[ERROR] "+a)},trace:function(a){return j("[TRACE] "+a)}};default:return console}}(),c=function(){function a(a,b,c,e,h){var i,j,k;this.endpoint=a,this.params=b,this.http_method=c,this.clientInfo=e,this.lbPromisedInfo=h,j=this.clientInfo,this.accessToken=j.accessToken,this.debug=j.debug,k=this.lbPromisedInfo,this.baseURL=k.baseURL,this.logger=k.logger,this.version=k.version,null==this.logger&&(this.logger=g),this.logger.now=function(a){return function(){var b,c,e;return a.startDate?(c=new Date,e=c.getTime()-a.startDate.getTime(),b=50>e?"green":250>e?"yellow":"red",c.toString()+" "+d(e+"ms",b)):(a.startDate=new Date,a.startDate.toString())}}(this),i=this.constructor.counter=(this.constructor.counter+1)%f.length,this.color=f[i],this.mark=d("●",this.color)}return a.counter=0,a.prototype.log=function(){var a,b;return b=1<=arguments.length?l.call(arguments,0):[],(a=this.logger).info.apply(a,[this.mark].concat(l.call(b)))},a.prototype.showHeader=function(a){var b;b=k[0],this.logger.info("\n"),this.logger.info("┏────────────────────────────────────────────────────────────────────────────────"),this.logger.info("┃ "+this.mark+" "+this.logger.now()),this.logger.info("┃ loopback-promised  "+this.baseURL),this.logger.info("┃ "+a+"  ["+this.http_method+"]: "+this.endpoint),this.logger.info("┃ "+b+"accessToken: "+(this.accessToken?this.accessToken.slice(0,20)+"...":null))},a.prototype.showFooter=function(){this.logger.info("┗────────────────────────────────────────────────────────────────────────────────")},a.prototype.showParams=function(a,b,c,d){var e,f,g,h,j,l,n,o,p,q,r;if(null==c&&(c=1),null==d&&(d=4),p=k.slice(0,c).join(""),q=k[0],Array.isArray(b))if(0===b.length)this.logger.info("┃ "+p+a+": []");else{for(this.logger.info("┃ "+p+a+": ["),i=e=0,h=b.length;h>e;i=++e)r=b[i],this.showParams("["+i+"]",r,c+1,d);this.logger.info("┃ "+p+"]")}else if("function"==typeof(null!=b?b.toISOString:void 0))this.logger.info("┃ "+p+a+": ["+(null!=(o=b.constructor)?o.name:void 0)+"] "+b.toISOString());else if("error"===a&&"object"==typeof b&&"string"==typeof(null!=b?b.stack:void 0)){this.logger.info("┃ "+p+a+":");for(f in b)if(m.call(b,f))if(r=b[f],"stack"!==f)this.showParams(f,r,c+1,d);else for(n=r.split("\n"),this.logger.info("┃ "+p+q+"stack:"),g=0,j=n.length;j>g;g++)l=n[g],this.logger.info("┃ "+p+q+q+l)}else if(null!=b&&"object"==typeof b&&Object.keys(b).length>0&&d>=c){this.logger.info("┃ "+p+a+":");for(f in b)m.call(b,f)&&(r=b[f],this.showParams(f,r,c+1,d))}else this.logger.info("┃ "+p+a+": "+JSON.stringify(b))},a.prototype.showRequestInfo=function(){var a;a=k[0],this.showHeader(">> "+d("REQUEST","purple")),this.showParams("params",this.params,1),this.showFooter()},a.prototype.showErrorInfo=function(a){var b;b=k[0],this.showHeader("<< "+d("ERROR","red")),this.showParams("Error",a,1),this.showFooter()},a.prototype.showResponseInfo=function(a,b){var c,e;e=k[0],c=a.error?d(b.status,"red"):d(b.status,"green"),this.showHeader("<< "+d("RESPONSE","cyan")),this.logger.info("┃ "+e+"status: "+c),this.showParams("responseBody",a,1),this.showFooter()},a}(),b.exports=c},{"../../../bower_components/log/log":1}],8:[function(a,b){(function(c,d){(function(){"use strict";function e(a){return"function"==typeof a||"object"==typeof a&&null!==a}function f(a){return"function"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){T=a}function i(a){X=a}function j(){var a=c.nextTick,b=c.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(b)&&"0"===b[1]&&"10"===b[2]&&(a=setImmediate),function(){a(o)}}function k(){return function(){S(o)}}function l(){var a=0,b=new $(o),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function m(){var a=new MessageChannel;return a.port1.onmessage=o,function(){a.port2.postMessage(0)}}function n(){return function(){setTimeout(o,1)}}function o(){for(var a=0;W>a;a+=2){var b=ba[a],c=ba[a+1];b(c),ba[a]=void 0,ba[a+1]=void 0}W=0}function p(){try{var b=a,c=b("vertx");return S=c.runOnLoop||c.runOnContext,k()}catch(d){return n()}}function q(){}function r(){return new TypeError("You cannot resolve a promise with itself")}function s(){return new TypeError("A promises callback cannot return that same promise.")}function t(a){try{return a.then}catch(b){return fa.error=b,fa}}function u(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function v(a,b,c){X(function(a){var d=!1,e=u(c,b,function(c){d||(d=!0,b!==c?y(a,c):A(a,c))},function(b){d||(d=!0,B(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,B(a,e))},a)}function w(a,b){b._state===da?A(a,b._result):b._state===ea?B(a,b._result):C(b,void 0,function(b){y(a,b)},function(b){B(a,b)})}function x(a,b){if(b.constructor===a.constructor)w(a,b);else{var c=t(b);c===fa?B(a,fa.error):void 0===c?A(a,b):f(c)?v(a,b,c):A(a,b)}}function y(a,b){a===b?B(a,r()):e(b)?x(a,b):A(a,b)}function z(a){a._onerror&&a._onerror(a._result),D(a)}function A(a,b){a._state===ca&&(a._result=b,a._state=da,0!==a._subscribers.length&&X(D,a))}function B(a,b){a._state===ca&&(a._state=ea,a._result=b,X(z,a))}function C(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+da]=c,e[f+ea]=d,0===f&&a._state&&X(D,a)}function D(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d,e,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?G(c,d,e,f):e(f);a._subscribers.length=0}}function E(){this.error=null}function F(a,b){try{return a(b)}catch(c){return ga.error=c,ga}}function G(a,b,c,d){var e,g,h,i,j=f(c);if(j){if(e=F(c,d),e===ga?(i=!0,g=e.error,e=null):h=!0,b===e)return void B(b,s())}else e=d,h=!0;b._state!==ca||(j&&h?y(b,e):i?B(b,g):a===da?A(b,e):a===ea&&B(b,e))}function H(a,b){try{b(function(b){y(a,b)},function(b){B(a,b)})}catch(c){B(a,c)}}function I(a,b){var c=this;c._instanceConstructor=a,c.promise=new a(q),c._validateInput(b)?(c._input=b,c.length=b.length,c._remaining=b.length,c._init(),0===c.length?A(c.promise,c._result):(c.length=c.length||0,c._enumerate(),0===c._remaining&&A(c.promise,c._result))):B(c.promise,c._validationError())}function J(a){return new ha(this,a).promise}function K(a){function b(a){y(e,a)}function c(a){B(e,a)}var d=this,e=new d(q);if(!V(a))return B(e,new TypeError("You must pass an array to race.")),e;for(var f=a.length,g=0;e._state===ca&&f>g;g++)C(d.resolve(a[g]),void 0,b,c);return e}function L(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(q);return y(c,a),c}function M(a){var b=this,c=new b(q);return B(c,a),c}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function P(a){this._id=ma++,this._state=void 0,this._result=void 0,this._subscribers=[],q!==a&&(f(a)||N(),this instanceof P||O(),H(this,a))}function Q(){var a;if("undefined"!=typeof d)a=d;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(b){throw new Error("polyfill failed because global object is unavailable in this environment")}var c=a.Promise;(!c||"[object Promise]"!==Object.prototype.toString.call(c.resolve())||c.cast)&&(a.Promise=na)}var R;R=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var S,T,U,V=R,W=0,X=({}.toString,function(a,b){ba[W]=a,ba[W+1]=b,W+=2,2===W&&(T?T(o):U())}),Y="undefined"!=typeof window?window:void 0,Z=Y||{},$=Z.MutationObserver||Z.WebKitMutationObserver,_="undefined"!=typeof c&&"[object process]"==={}.toString.call(c),aa="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ba=new Array(1e3);U=_?j():$?l():aa?m():void 0===Y&&"function"==typeof a?p():n();var ca=void 0,da=1,ea=2,fa=new E,ga=new E;I.prototype._validateInput=function(a){return V(a)},I.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},I.prototype._init=function(){this._result=new Array(this.length)};var ha=I;I.prototype._enumerate=function(){for(var a=this,b=a.length,c=a.promise,d=a._input,e=0;c._state===ca&&b>e;e++)a._eachEntry(d[e],e)},I.prototype._eachEntry=function(a,b){var c=this,d=c._instanceConstructor;g(a)?a.constructor===d&&a._state!==ca?(a._onerror=null,c._settledAt(a._state,b,a._result)):c._willSettleAt(d.resolve(a),b):(c._remaining--,c._result[b]=a)},I.prototype._settledAt=function(a,b,c){var d=this,e=d.promise;e._state===ca&&(d._remaining--,a===ea?B(e,c):d._result[b]=c),0===d._remaining&&A(e,d._result)},I.prototype._willSettleAt=function(a,b){var c=this;C(a,void 0,function(a){c._settledAt(da,b,a)},function(a){c._settledAt(ea,b,a)})};var ia=J,ja=K,ka=L,la=M,ma=0,na=P;P.all=ia,P.race=ja,P.resolve=ka,P.reject=la,P._setScheduler=h,P._setAsap=i,P._asap=X,P.prototype={constructor:P,then:function(a,b){var c=this,d=c._state;if(d===da&&!a||d===ea&&!b)return this;var e=new this.constructor(q),f=c._result;if(d){var g=arguments[d-1];X(function(){G(d,e,g,f)})}else C(c,e,a,b);return e},"catch":function(a){return this.then(null,a)}};var oa=Q,pa={Promise:na,polyfill:oa};"function"==typeof define&&define.amd?define(function(){return pa}):"undefined"!=typeof b&&b.exports?b.exports=pa:"undefined"!=typeof this&&(this.ES6Promise=pa),oa()}).call(this)}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:9}],9:[function(a,b){function c(){j=!1,g.length?i=g.concat(i):k=-1,i.length&&d()}function d(){if(!j){var a=setTimeout(c);j=!0;for(var b=i.length;b;){for(g=i,i=[];++k<b;)g&&g[k].run();k=-1,b=i.length}g=null,j=!1,clearTimeout(a)}}function e(a,b){this.fun=a,this.array=b}function f(){}var g,h=b.exports={},i=[],j=!1,k=-1;h.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new e(a,b)),1!==i.length||j||setTimeout(d,0)},e.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=f,h.addListener=f,h.once=f,h.off=f,h.removeListener=f,h.removeAllListeners=f,h.emit=f,h.binding=function(){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],10:[function(a,b){function c(){}function d(a){var b={}.toString.call(a);switch(b){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function e(){if(q.XMLHttpRequest&&("file:"!=q.location.protocol||!q.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}return!1}function f(a){return a===Object(a)}function g(a){if(!f(a))return a;var b=[];for(var c in a)null!=a[c]&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function h(a){for(var b,c,d={},e=a.split("&"),f=0,g=e.length;g>f;++f)c=e[f],b=c.split("="),d[decodeURIComponent(b[0])]=decodeURIComponent(b[1]);return d}function i(a){var b,c,d,e,f=a.split(/\r?\n/),g={};f.pop();for(var h=0,i=f.length;i>h;++h)c=f[h],b=c.indexOf(":"),d=c.slice(0,b).toLowerCase(),e=r(c.slice(b+1)),g[d]=e;return g}function j(a){return a.split(/ *; */).shift()}function k(a){return p(a.split(/ *; */),function(a,b){var c=b.split(/ *= */),d=c.shift(),e=c.shift();return d&&e&&(a[d]=e),a},{})}function l(a,b){b=b||{},this.req=a,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method?this.xhr.responseText:null,this.setStatusProperties(this.xhr.status),this.header=this.headers=i(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function m(a,b){var c=this;o.call(this),this._query=this._query||[],this.method=a,this.url=b,this.header={},this._header={},this.on("end",function(){var a=null,b=null;try{b=new l(c)}catch(d){a=new Error("Parser is unable to parse the response"),a.parse=!0,a.original=d}c.callback(a,b)})}function n(a,b){return"function"==typeof b?new m("GET",a).end(b):1==arguments.length?new m("GET",a):new m(a,b)}var o=a("emitter"),p=a("reduce"),q="undefined"==typeof window?this:window,r="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")};n.serializeObject=g,n.parseString=h,n.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},n.serialize={"application/x-www-form-urlencoded":g,"application/json":JSON.stringify},n.parse={"application/x-www-form-urlencoded":h,"application/json":JSON.parse},l.prototype.get=function(a){return this.header[a.toLowerCase()]},l.prototype.setHeaderProperties=function(){var a=this.header["content-type"]||"";this.type=j(a);var b=k(a);for(var c in b)this[c]=b[c]},l.prototype.parseBody=function(a){var b=n.parse[this.type];return b&&a&&a.length?b(a):null},l.prototype.setStatusProperties=function(a){var b=a/100|0;this.status=a,this.statusType=b,this.info=1==b,this.ok=2==b,this.clientError=4==b,this.serverError=5==b,this.error=4==b||5==b?this.toError():!1,this.accepted=202==a,this.noContent=204==a||1223==a,this.badRequest=400==a,this.unauthorized=401==a,this.notAcceptable=406==a,this.notFound=404==a,this.forbidden=403==a},l.prototype.toError=function(){var a=this.req,b=a.method,c=a.url,d="cannot "+b+" "+c+" ("+this.status+")",e=new Error(d);return e.status=this.status,e.method=b,e.url=c,e},n.Response=l,o(m.prototype),m.prototype.use=function(a){return a(this),this},m.prototype.timeout=function(a){return this._timeout=a,this},m.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},m.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},m.prototype.set=function(a,b){if(f(a)){for(var c in a)this.set(c,a[c]);return this}return this._header[a.toLowerCase()]=b,this.header[a]=b,this},m.prototype.unset=function(a){return delete this._header[a.toLowerCase()],delete this.header[a],this},m.prototype.getHeader=function(a){return this._header[a.toLowerCase()]},m.prototype.type=function(a){return this.set("Content-Type",n.types[a]||a),this},m.prototype.accept=function(a){return this.set("Accept",n.types[a]||a),this},m.prototype.auth=function(a,b){var c=btoa(a+":"+b);return this.set("Authorization","Basic "+c),this},m.prototype.query=function(a){return"string"!=typeof a&&(a=g(a)),a&&this._query.push(a),this},m.prototype.field=function(a,b){return this._formData||(this._formData=new FormData),this._formData.append(a,b),this},m.prototype.attach=function(a,b,c){return this._formData||(this._formData=new FormData),this._formData.append(a,b,c),this},m.prototype.send=function(a){var b=f(a),c=this.getHeader("Content-Type");if(b&&f(this._data))for(var d in a)this._data[d]=a[d];else"string"==typeof a?(c||this.type("form"),c=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==c?this._data?this._data+"&"+a:a:(this._data||"")+a):this._data=a;return b?(c||this.type("json"),this):this},m.prototype.callback=function(a,b){var c=this._callback;return this.clearTimeout(),2==c.length?c(a,b):a?this.emit("error",a):void c(b)},m.prototype.crossDomainError=function(){var a=new Error("Origin is not allowed by Access-Control-Allow-Origin");a.crossDomain=!0,this.callback(a)},m.prototype.timeoutError=function(){var a=this._timeout,b=new Error("timeout of "+a+"ms exceeded");b.timeout=a,this.callback(b)},m.prototype.withCredentials=function(){return this._withCredentials=!0,this},m.prototype.end=function(a){var b=this,f=this.xhr=e(),g=this._query.join("&"),h=this._timeout,i=this._formData||this._data;if(this._callback=a||c,f.onreadystatechange=function(){return 4==f.readyState?0==f.status?b.aborted?b.timeoutError():b.crossDomainError():void b.emit("end"):void 0},f.upload&&(f.upload.onprogress=function(a){a.percent=a.loaded/a.total*100,b.emit("progress",a)}),h&&!this._timer&&(this._timer=setTimeout(function(){b.abort()},h)),g&&(g=n.serializeObject(g),this.url+=~this.url.indexOf("?")?"&"+g:"?"+g),f.open(this.method,this.url,!0),this._withCredentials&&(f.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof i&&!d(i)){var j=n.serialize[this.getHeader("Content-Type")];j&&(i=j(i))}for(var k in this.header)null!=this.header[k]&&f.setRequestHeader(k,this.header[k]);return this.emit("request",this),f.send(i),this},n.Request=m,n.get=function(a,b,c){var d=n("GET",a);return"function"==typeof b&&(c=b,b=null),b&&d.query(b),c&&d.end(c),d},n.head=function(a,b,c){var d=n("HEAD",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},n.del=function(a,b){var c=n("DELETE",a);return b&&c.end(b),c},n.patch=function(a,b,c){var d=n("PATCH",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},n.post=function(a,b,c){var d=n("POST",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},n.put=function(a,b,c){var d=n("PUT",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},b.exports=n},{emitter:11,reduce:12}],11:[function(a,b){function c(a){return a?d(a):void 0}function d(a){for(var b in c.prototype)a[b]=c.prototype[b];return a}b.exports=c,c.prototype.on=c.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},c.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c.fn=b,this.on(a,c),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},c.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},c.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},c.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],12:[function(a,b){b.exports=function(a,b,c){for(var d=0,e=a.length,f=3==arguments.length?c:a[d++];e>d;)f=b.call(null,f,a[d],++d,a);return f}},{}],13:[function(a){window.LoopbackPromised=a("./dist/lib/loopback-promised")},{"./dist/lib/loopback-promised":3}]},{},[13]);